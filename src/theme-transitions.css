/**
 * 主题过渡CSS
 * 此文件应该在主应用CSS之前加载，以确保在页面加载时立即应用主题变量
 */

:root {
  /* 主题过渡持续时间 */
  --theme-transition-duration: 200ms;
  
  /* 亮色主题变量 */
  --app-bg-color-light: #f5f5f7;
  --app-text-color-light: #1d1d1f;
  --app-card-bg-light: white;
  --app-border-light: #e8e8ed;
  --app-input-bg-light: #f5f5f7;
  
  /* 暗色主题变量 */
  --app-bg-color-dark: #1d1d1f;
  --app-text-color-dark: #f5f5f7;
  --app-card-bg-dark: #2a2a2d;
  --app-border-dark: #3a3a3d;
  --app-input-bg-dark: #1d1d1f;
  
  /* 默认主题 (亮色) */
  --app-bg-color: var(--app-bg-color-light);
  --app-text-color: var(--app-text-color-light);
  --app-card-bg: var(--app-card-bg-light);
  --app-border-color: var(--app-border-light);
  --app-input-bg: var(--app-input-bg-light);
  
  /* 背景透明度 */
  --app-bg-opacity: 0.8;
  --bg-color-dark: rgba(29, 29, 31, var(--app-bg-opacity));
  --bg-color-light: rgba(245, 245, 247, var(--app-bg-opacity));
  --app-overlay-color: var(--bg-color-light);
}

/* 暗色主题设置 */
[data-theme="dark"] {
  --app-bg-color: var(--app-bg-color-dark);
  --app-text-color: var(--app-text-color-dark);
  --app-card-bg: var(--app-card-bg-dark);
  --app-border-color: var(--app-border-dark);
  --app-input-bg: var(--app-input-bg-dark);
  --app-overlay-color: var(--bg-color-dark);
}

/* 避免FOUC (无样式内容闪烁) */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--app-bg-color);
  opacity: 0;
  z-index: -1;
  pointer-events: none;
}

/* 主题过渡效果 */
.theme-transition * {
  transition: background-color var(--theme-transition-duration) ease-out,
              color var(--theme-transition-duration) ease-out,
              border-color var(--theme-transition-duration) ease-out !important;
}

/* 硬件加速关键元素 */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform, opacity;
}

/* 背景图过渡效果 */
.bg-transition::before {
  transition: opacity 250ms ease-out, background-color 250ms ease-out !important;
} 