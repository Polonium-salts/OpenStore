# OpenStore æ„å»ºé—®é¢˜ä¿®å¤æŒ‡å—

## ğŸš¨ å½“å‰é—®é¢˜

æ ¹æ®ç»ˆç«¯è¾“å‡ºï¼Œæ„å»ºè¿‡ç¨‹ä¸­å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
```
failed to bundle project: `timeout: global`
Error failed to bundle project: `timeout: global`
```

è¿™æ˜¯ç”±äº NSIS ä¸‹è½½è¶…æ—¶å¯¼è‡´çš„ç½‘ç»œè¿æ¥é—®é¢˜ã€‚

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šä»…æ„å»º MSI å®‰è£…åŒ…ï¼ˆæ¨èï¼‰

æˆ‘å·²ç»ä¿®æ”¹äº† `src-tauri/tauri.conf.json` é…ç½®æ–‡ä»¶ï¼š
- å°† `targets` ä» `"all"` æ”¹ä¸º `["msi"]`
- æ·»åŠ äº† Windows ç‰¹å®šçš„æ‰“åŒ…é…ç½®

è¿™æ ·å¯ä»¥é¿å… NSIS ä¸‹è½½é—®é¢˜ï¼Œåªç”Ÿæˆ MSI å®‰è£…åŒ…ã€‚

### æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨ä¸‹è½½ NSIS

å¦‚æœéœ€è¦ç”Ÿæˆ NSIS å®‰è£…åŒ…ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ï¼š

1. ä¸‹è½½ NSISï¼šhttps://github.com/tauri-apps/binary-releases/releases/download/nsis-3/nsis-3.zip
2. è§£å‹åˆ° Tauri ç¼“å­˜ç›®å½•
3. é‡æ–°è¿è¡Œæ„å»ºå‘½ä»¤

### æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨ä»£ç†æˆ– VPN

å¦‚æœç½‘ç»œè¿æ¥æœ‰é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. é…ç½®ä»£ç†æœåŠ¡å™¨
2. ä½¿ç”¨ VPN è¿æ¥
3. åˆ‡æ¢åˆ°æ›´ç¨³å®šçš„ç½‘ç»œç¯å¢ƒ

### æ–¹æ¡ˆå››ï¼šç¦ç”¨æ‰€æœ‰æ‰“åŒ…å™¨

ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼Œåªç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼š

```json
"bundle": {
  "active": false
}
```

## ğŸš€ é‡æ–°æ„å»º

ä¿®æ”¹é…ç½®åï¼Œé‡æ–°è¿è¡Œæ„å»ºå‘½ä»¤ï¼š

```bash
npm run tauri build
```

## ğŸ“‹ å…¶ä»–ä¼˜åŒ–å»ºè®®

1. **ä»£ç åˆ†å‰²è­¦å‘Š**ï¼šè€ƒè™‘ç§»é™¤åŠ¨æ€å¯¼å…¥æˆ–ä½¿ç”¨ `build.rollupOptions.output.manualChunks`
2. **åŒ…å¤§å°è­¦å‘Š**ï¼šä¸» JS æ–‡ä»¶è¿‡å¤§ï¼ˆ770KBï¼‰ï¼Œå»ºè®®è¿›è¡Œä»£ç åˆ†å‰²
3. **æœªä½¿ç”¨å‡½æ•°**ï¼š`create_custom_downloader` å‡½æ•°æœªè¢«ä½¿ç”¨ï¼Œå¯ä»¥è€ƒè™‘ç§»é™¤

## ğŸ” éªŒè¯æ„å»ºç»“æœ

æ„å»ºæˆåŠŸåï¼Œæ£€æŸ¥ä»¥ä¸‹æ–‡ä»¶ï¼š
- `src-tauri/target/release/open.exe` - å¯æ‰§è¡Œæ–‡ä»¶
- `src-tauri/target/release/bundle/msi/open_0.1.0_x64_en-US.msi` - MSI å®‰è£…åŒ…

## ğŸ“ å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨

1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æ¸…ç†æ„å»ºç¼“å­˜ï¼š`npm run tauri build -- --clean`
3. æ›´æ–° Tauri CLIï¼š`npm install -g @tauri-apps/cli@latest`
4. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š`npm run tauri build -- --verbose`